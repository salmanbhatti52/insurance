{"version":3,"file":"src_app_home-page-screen-after-login_home-page-screen-after-login_module_ts.js","mappings":"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","sources":["./src/app/home-page-screen-after-login/home-page-screen-after-login-routing.module.ts","./src/app/home-page-screen-after-login/home-page-screen-after-login.module.ts","./src/app/home-page-screen-after-login/home-page-screen-after-login.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { HomePageScreenAfterLoginPage } from './home-page-screen-after-login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HomePageScreenAfterLoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class HomePageScreenAfterLoginPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { HomePageScreenAfterLoginPageRoutingModule } from './home-page-screen-after-login-routing.module';\r\n\r\nimport { HomePageScreenAfterLoginPage } from './home-page-screen-after-login.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    HomePageScreenAfterLoginPageRoutingModule\r\n  ],\r\n  declarations: [HomePageScreenAfterLoginPage]\r\n})\r\nexport class HomePageScreenAfterLoginPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {\r\n  ActionSheetController,\r\n  AlertController,\r\n  MenuController,\r\n  NavController,\r\n  Platform,\r\n} from '@ionic/angular';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { QuotePopupPage } from '../quote-popup/quote-popup.page';\r\nimport { Router } from '@angular/router';\r\nimport { InsuranceAppService } from '../services/insurance-app.service';\r\nimport { InAppBrowser } from '@awesome-cordova-plugins/in-app-browser/ngx';\r\n\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-home-page-screen-after-login',\r\n  templateUrl: './home-page-screen-after-login.page.html',\r\n  styleUrls: ['./home-page-screen-after-login.page.scss'],\r\n})\r\nexport class HomePageScreenAfterLoginPage implements OnInit {\r\n  slideOpts = {\r\n    initialSlide: 0,\r\n    speed: 400,\r\n  };\r\n\r\n  products: any;\r\n  username: any;\r\n  loginas: string;\r\n  result: string;\r\n  draftArr: any = '';\r\n  calclatedtime: any = '';\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public menuCtrl: MenuController,\r\n    public router: Router,\r\n    public modal: ModalController,\r\n    public api: InsuranceAppService,\r\n    public alert: AlertController,\r\n    public actionSheetCtrl: ActionSheetController,\r\n    public platform: Platform,\r\n    public iab: InAppBrowser\r\n  ) { }\r\n\r\n  ngOnInit() { }\r\n  ionViewWillEnter() {\r\n    this.loginas = localStorage.getItem('loginas');\r\n    this.username = localStorage.getItem('fname');\r\n    this.api.username = this.username;\r\n\r\n    if (localStorage.getItem('userid') == null) {\r\n      this.api.presenttoast('Please Login First');\r\n      this.router.navigate(['/sign-in-screen']);\r\n    } else {\r\n      this.getProducts();\r\n      this.alertbox();\r\n    }\r\n  }\r\n\r\n  async alertbox() {\r\n    const fp = localStorage.getItem('fingerprint');\r\n    console.log('sASAsaSA', fp);\r\n    if (fp == null) {\r\n      const alert = await this.alert.create({\r\n        header: 'Do you want to add Finger Print/Face ID login',\r\n        cssClass: 'fgprintcls',\r\n        buttons: [\r\n          {\r\n            text: 'Yes',\r\n            role: 'confirm',\r\n            handler: () => {\r\n              localStorage.setItem('fingerprint', 'true');\r\n              this.api.fpval = 'true';\r\n            },\r\n          },\r\n          {\r\n            text: 'No',\r\n            role: 'cancel',\r\n            handler: () => {\r\n              localStorage.setItem('fingerprint', 'false');\r\n              this.api.fpval = 'false';\r\n            },\r\n          },\r\n        ],\r\n      });\r\n      await alert.present();\r\n    }\r\n  }\r\n  getProducts() {\r\n    const myData =\r\n      'myData={\"verify_token\":\"' +\r\n      localStorage.getItem('token') +\r\n      '\",\"method\":\"get_avilable_products\"}';\r\n    this.api.insertData(myData).subscribe(\r\n      (res: any) => {\r\n        console.log(res);\r\n\r\n        if (res.message == 'success') {\r\n          this.api.hideLoader()\r\n          this.products = res.myproduct;\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n      }\r\n    );\r\n    this.deletedraftafter7days();\r\n  }\r\n\r\n  investmentsubProducts() {\r\n    this.router.navigate(['/sub-products']);\r\n  }\r\n\r\n  goToPolicy1() {\r\n    this.router.navigate(['/policy1']);\r\n\r\n  }\r\n\r\n  openProduct(product, comingFrom) {\r\n    console.log('selected product', product);\r\n    localStorage.setItem('productName', product.name);\r\n    localStorage.setItem('productid', product.id);\r\n    if (product.name == 'Investment plans') {\r\n      this.investmentsubProducts();\r\n      // this.getPurchasedProducts(comingFrom);\r\n    } else {\r\n      this.subProducts(product.id, comingFrom);\r\n    }\r\n\r\n  }\r\n\r\n  subProducts(id, comingFrom) {\r\n    const myData =\r\n      'myData={\"verify_token\":\"' +\r\n      localStorage.getItem('token') +\r\n      '\",\"product_id\":\"' +\r\n      id +\r\n      '\",\"method\":\"get_avilable_subproducts\"}';\r\n    this.api.insertData(myData).subscribe(\r\n      (res: any) => {\r\n        const subproducts = [];\r\n        console.log('subProducts---------', res);\r\n        res.subproducts.map((value, index) => {\r\n          //old code..\r\n          // if (value.name != \"Local Travel Insurance\" && value.name != \"Pilgrimage Plans\" && value.name != \"Student Plan\" && value.name != \"Europe / Shengen\" && value.name != 'Enhanced Comprehensive' && value.name != 'Auto Variants') {\r\n          //   subproducts.push(value);\r\n          // }\r\n          //new code to add local travel insurance\r\n          if (\r\n            value.name != 'Pilgrimage Plans' &&\r\n            value.name != 'Student Plan' &&\r\n            value.name != 'Europe / Shengen' &&\r\n            value.name != 'Enhanced Comprehensive' &&\r\n            value.name != 'Auto Variants'\r\n          ) {\r\n            subproducts.push(value);\r\n          }\r\n        });\r\n        console.log('subproducts after check---', subproducts);\r\n        // return;\r\n        localStorage.setItem('subProducts', JSON.stringify(subproducts));\r\n        this.PopupCust(comingFrom);\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n      }\r\n    );\r\n  }\r\n\r\n  getPurchasedProducts(comingFrom: any) {\r\n    let data: { [key: string]: any } = {\r\n      'verify_token': localStorage.getItem('token'),\r\n      'method': 'getPurchasedPolicies'\r\n    }\r\n    this.api.showLoader();\r\n    this.api.submitFormData(data).subscribe((res: any) => {\r\n      this.api.hideLoader();\r\n      console.log('purchased products: ', res);\r\n      if (res.status_no == 1) {\r\n        let subProducts = [];\r\n        subProducts = res.purchasePolicies;\r\n        localStorage.setItem('subProducts', JSON.stringify(subProducts));\r\n        this.PopupCust(comingFrom);\r\n      } else {\r\n\r\n      }\r\n    }, (error: any) => {\r\n\r\n    });\r\n  }\r\n\r\n  tab1Click() {\r\n    if (localStorage.getItem('userid')) {\r\n      this.navCtrl.navigateRoot('explore-screen-before-login-expanded');\r\n    } else {\r\n      this.navCtrl.navigateRoot('explore-screen-before-login-expanded2');\r\n    }\r\n  }\r\n  tab2Click() {\r\n    this.navCtrl.navigateRoot('home-page-screen-after-login');\r\n  }\r\n\r\n  updateProfile() {\r\n    this.navCtrl.navigateRoot('profile-update');\r\n  }\r\n  // async PopupCust() {\r\n  //   const modal = await this.modal.create({\r\n  //     component: QuotePopupPage,\r\n  //     cssClass: 'QuotePopup',\r\n  //   });\r\n  //   modal.onDidDismiss().then((res) => {\r\n  //     console.log('data-------', res);\r\n  //     if(res.data.product_for_quote==1){\r\n  //       this.router.navigate(['/mypolicies']);\r\n  //       localStorage.setItem('subProId',res.data.id);\r\n  //       localStorage.setItem('subProName',res.data.name);\r\n  //     }\r\n  //     else{\r\n  //       this.subProducts(res.data.id);\r\n  //     }\r\n  //   }).catch(error=>console.log(\"error----\",error));\r\n  //   return await modal.present();\r\n  // }\r\n\r\n  PopupCust(comingFrom) {\r\n    this.api.comingFrom = comingFrom;\r\n\r\n    this.router.navigate(['/quote-popup']);\r\n  }\r\n  learnmore() {\r\n    this.router.navigate(['/claimassistance']);\r\n  }\r\n  learnmore2() {\r\n    this.router.navigate(['/claimassistance2']);\r\n  }\r\n  learnmore3() {\r\n    this.router.navigate(['/claimassistance3']);\r\n  }\r\n\r\n  async tab3Click() {\r\n    if (this.platform.is('android')) {\r\n      this.router.navigate(['/contactus']);\r\n    } else {\r\n      const actionSheet = await this.actionSheetCtrl.create({\r\n        buttons: [\r\n          {\r\n            text: 'Chat with an agent',\r\n            data: {\r\n              action: 'chat',\r\n            },\r\n          },\r\n          {\r\n            text: 'Make Enquiry',\r\n            data: {\r\n              action: 'chat',\r\n            },\r\n          },\r\n          {\r\n            text: 'Our Locations',\r\n            data: {\r\n              action: 'location',\r\n            },\r\n          },\r\n        ],\r\n      });\r\n\r\n      await actionSheet.present();\r\n      const result = await actionSheet.onDidDismiss();\r\n      this.result = JSON.stringify(result, null, 2);\r\n      console.log('res----', result);\r\n      if (result.data.action == 'location') {\r\n        this.navCtrl.navigateRoot('contactus');\r\n      }\r\n\r\n      if (result.data.action == 'chat') {\r\n        const browser = this.iab.create(\r\n          'https://webchat.ebanqo.io/cornerstone',\r\n          '_blank'\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  handleImgError(ev: any, item: any, url) {\r\n    const source = ev.srcElement;\r\n    const imgSrc = `assets/images/travel.svg`;\r\n    source.src = imgSrc;\r\n  }\r\n\r\n  handleImgError2(ev: any, item: any, url) {\r\n    const source = ev.srcElement;\r\n    const imgSrc = `assets/images/car.svg`;\r\n    source.src = imgSrc;\r\n  }\r\n\r\n  deletedraftafter7days() {\r\n    this.draftArr = JSON.parse(localStorage.getItem('draftArr'));\r\n    if (this.draftArr == null) {\r\n      this.api.hideLoader()\r\n    } else {\r\n      this.api.hideLoader()\r\n      for (var i = 0; i < this.draftArr.length; i++) {\r\n        this.calclatedtime = moment(\r\n          this.draftArr[i].datetime,\r\n          'YYYYMMDD'\r\n        ).fromNow(); // 11 years ago\r\n        console.log('tt-----', this.calclatedtime);\r\n\r\n        if (this.calclatedtime.includes('days')) {\r\n          console.log('day wala ha bhai');\r\n          var day = this.calclatedtime.substring(\r\n            0,\r\n            this.calclatedtime.indexOf(' ')\r\n          );\r\n          if (parseInt(day) > 7) {\r\n            this.draftArr.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n\r\n      localStorage.setItem('draftArr', JSON.stringify(this.draftArr));\r\n    }\r\n\r\n  }\r\n}\r\n"],"names":["Component","ActionSheetController","AlertController","MenuController","NavController","Platform","ModalController","Router","InsuranceAppService","InAppBrowser","moment","HomePageScreenAfterLoginPage","constructor","navCtrl","menuCtrl","router","modal","api","alert","actionSheetCtrl","platform","iab","initialSlide","speed","ngOnInit","ionViewWillEnter","loginas","localStorage","getItem","username","presenttoast","navigate","getProducts","alertbox","fp","console","log","create","header","cssClass","buttons","text","role","handler","setItem","fpval","present","myData","insertData","subscribe","res","message","hideLoader","products","myproduct","err","deletedraftafter7days","investmentsubProducts","goToPolicy1","openProduct","product","comingFrom","name","id","subProducts","subproducts","map","value","index","push","JSON","stringify","PopupCust","getPurchasedProducts","data","showLoader","submitFormData","status_no","purchasePolicies","error","tab1Click","navigateRoot","tab2Click","updateProfile","learnmore","learnmore2","learnmore3","tab3Click","is","actionSheet","action","result","onDidDismiss","browser","handleImgError","ev","item","url","source","srcElement","imgSrc","src","handleImgError2","draftArr","parse","i","length","calclatedtime","datetime","fromNow","includes","day","substring","indexOf","parseInt","splice","selector","template"],"sourceRoot":"webpack:///"}