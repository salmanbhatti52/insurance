{"version":3,"file":"src_app_verify-policy-screen-cust_verify-policy-screen-cust_module_ts.js","mappings":"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","sources":["./src/app/verify-policy-screen-cust/verify-policy-screen-cust-routing.module.ts","./src/app/verify-policy-screen-cust/verify-policy-screen-cust.module.ts","./src/app/verify-policy-screen-cust/verify-policy-screen-cust.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { VerifyPolicyScreenCustPage } from './verify-policy-screen-cust.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VerifyPolicyScreenCustPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class VerifyPolicyScreenCustPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { VerifyPolicyScreenCustPageRoutingModule } from './verify-policy-screen-cust-routing.module';\n\nimport { VerifyPolicyScreenCustPage } from './verify-policy-screen-cust.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    VerifyPolicyScreenCustPageRoutingModule\n  ],\n  declarations: [VerifyPolicyScreenCustPage]\n})\nexport class VerifyPolicyScreenCustPageModule {}\n","import { Location } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ModalController } from '@ionic/angular';\nimport { VerifyPolicyPopupCustPage } from '../verify-policy-popup-cust/verify-policy-popup-cust.page';\nimport axios from 'axios';\nimport { InsuranceAppService } from '../services/insurance-app.service';\nimport { HttpHeaders, HttpParams, HttpClient, HttpParamsOptions } from '@angular/common/http';\n\n\n@Component({\n  selector: 'app-verify-policy-screen-cust',\n  templateUrl: './verify-policy-screen-cust.page.html',\n  styleUrls: ['./verify-policy-screen-cust.page.scss'],\n})\nexport class VerifyPolicyScreenCustPage implements OnInit {\n  show = false;\n  Insurance = 'Car Insurance'\n  listarray = [{ Insurance: 'Car Insurance' }, { Insurance: 'Car Insurance' }, { Insurance: 'Car Insurance' }]\n  pnumber = '';\n  config: { method: string; url: string; headers: { Authorization: string; Cookie: string; 'Content-Type': string; }; };\n  policy = false;\n  verifypolicy: any;\n  first_name: any;\n  last_name: any;\n  dob: any;\n  phone_number: any;\n  email: any;\n  address: any;\n  bearertoken: any;\n  constructor(public modal: ModalController,\n    public location: Location,\n    public router: Router,\n    public api: InsuranceAppService,\n    private http: HttpClient,) { }\n\n  ngOnInit() {\n\n    const myData = {\n      sid: 'ECHANNEL2',\n      token: '78CD825E-2F6A-4986-962C-7F0FA3E945BD',\n    };\n    this.api.gibsapi(myData).subscribe(\n      (res: any) => {\n        console.log(res);\n        const token = res.accessToken;\n        this.policieshistory(token)\n      },\n      (err) => {\n        console.log(err);\n\n      }\n    )\n  }\n  policieshistory(token) {\n    this.api.getpolicy('http://testcipapiservices.gibsonline.com/api/policies/history', token).subscribe((response: any) => {\n\n      console.log(response);\n      this.api.hideLoader();\n\n    }, err => {\n      console.log('error to get policies----', err);\n    });\n  }\n\n  goback() {\n    this.router.navigate(['/home-page-screen-after-login'])\n  }\n  openlist() {\n    if (this.show == true) {\n      this.show = false\n    } else {\n      this.show = true;\n\n    }\n  }\n\n  selectInsurance(list) {\n    this.Insurance = list.Insurance\n    this.show = false\n  }\n\n  async PopupCust() {\n    // let token = '39109f7df56e1CORNERStone9e685066bb852''\n    // P/500/1001/2023/00235\n    if (this.pnumber == '') {\n      this.api.presenttoast('Policy Number Field is required!');\n    } else {\n      const myData = {\n        sid: 'ECHANNEL2',\n        token: '78CD825E-2F6A-4986-962C-7F0FA3E945BD',\n      };\n      this.api.gibsapi(myData).subscribe(\n        (res: any) => {\n          console.log(res);\n          const token = res.accessToken;\n          this.bearertoken = res.accessToken;\n          // this.api.postdata('http://testcipapiservices.gibsonline.com/api/policies/P/500/1001/2023/00235/renew', this.bearertoken).subscribe((response: any) => {\n\n          //   console.log(response);\n          //   this.api.hideLoader();\n\n          // });\n          let encode1 = encodeURIComponent('P/500/1001/2023/00235');\n          console.log('dasdsadsa', encode1);\n          this.api.postdata(' http://testcipapiservices.gibsonline.com/api/policies/' + encode1 + '/renew', this.bearertoken).subscribe((response: any) => {\n\n            console.log('ddddddddddddddddddd', response);\n            this.api.hideLoader();\n\n          }, err => {\n            console.log('get policy error', err);\n\n          });\n        },\n        (err) => {\n          console.log(err);\n\n        }\n      );\n\n\n      // old one\n      // this.api.get('https://ies.cornerstone.com.ng/demo2/api_ies/ies_connect.php?process=Processopenledapi&process_code=160&polnum2=' + this.pnumber, localStorage.getItem('token')).subscribe((response: any) => {\n\n      //   console.log(response.result);\n      //   this.verifypolicy = response.result\n      //   localStorage.setItem('policydata', JSON.stringify(this.verifypolicy));\n\n\n      //   this.api.hideLoader();\n      //   if (this.verifypolicy) {\n      //     if (this.verifypolicy.status == 1) {\n      //       this.router.navigate(['renewals'])\n      //       // this.policy = true;\n      //       // this.first_name = this.verifypolicy.first_name\n      //       // this.last_name = this.verifypolicy.last_name\n      //       // this.dob = this.verifypolicy.dob\n      //       // this.phone_number = this.verifypolicy.phone_number\n      //       // this.email = this.verifypolicy.email\n      //       // this.address = this.verifypolicy.address\n      //     } else {\n      //       this.api.presenttoast(this.verifypolicy.message)\n      //     }\n      //   } else {\n      //     this.api.presenttoast('Policy record not found');\n      //   }\n      // });\n    }\n\n\n    // const params = {\n    //   process: 'Processopenledapi',\n    //   process_code: '160',\n    //   polnum2: 'CHEF/2011/04/02072'\n    // }\n    // this.api.get('https://ies.cornerstone.com.ng/demo2/api_ies/ies_connect.php', { params }, localStorage.getItem('token')).pipe(map(data => { })).subscribe(result => {\n    //   console.log(result);\n    // }, err => {\n    //   console.log('error', err);\n\n    // });\n\n    // const headers = new HttpHeaders()\n    // headers.set('Authorization', 'Bearer 39109f7df56e1CORNERStone9e685066bb852');\n    // headers.set(\"Access-Control-Allow-Origin\", \"*\");\n\n    // headers.set(\"Content-Type\", \"application/json\")\n    // const myObject = {\n    //   process: 'Processopenledapi',\n    //   process_code: '160',\n    //   polnum2: 'CHEF/2011/04/02072'\n    // }\n    // const httpParams: HttpParamsOptions = { fromObject: myObject } as HttpParamsOptions;\n\n    // const options = { params: new HttpParams(httpParams), headers: headers, };\n\n    // this.http.get<any>('https://ies.cornerstone.com.ng/demo2/api_ies/ies_connect.php', options)\n    //   .subscribe((data: any) => {\n    //     // this.localvar = data;\n    //     console.log('data====', data);\n\n    //   }, err => {\n    //     console.log('errr====', err);\n\n    //   });\n\n    // const modal = await this.modal.create({\n    //   component: VerifyPolicyPopupCustPage,\n    //   cssClass: 'PolicyPopupCust',\n    // });\n    // modal.onDidDismiss().then((data) => {\n    //   console.log('data', data)\n    // });\n    // return await modal.present();\n  }\n}\n"],"names":["Location","Component","Router","ModalController","InsuranceAppService","HttpClient","VerifyPolicyScreenCustPage","constructor","modal","location","router","api","http","Insurance","ngOnInit","myData","sid","token","gibsapi","subscribe","res","console","log","accessToken","policieshistory","err","getpolicy","response","hideLoader","goback","navigate","openlist","show","selectInsurance","list","PopupCust","pnumber","presenttoast","bearertoken","encode1","encodeURIComponent","postdata","selector","template"],"sourceRoot":"webpack:///"}