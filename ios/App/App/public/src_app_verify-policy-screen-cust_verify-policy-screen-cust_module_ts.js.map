{"version":3,"file":"src_app_verify-policy-screen-cust_verify-policy-screen-cust_module_ts.js","mappings":"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","sources":["./src/app/verify-policy-screen-cust/verify-policy-screen-cust-routing.module.ts","./src/app/verify-policy-screen-cust/verify-policy-screen-cust.module.ts","./src/app/verify-policy-screen-cust/verify-policy-screen-cust.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { VerifyPolicyScreenCustPage } from './verify-policy-screen-cust.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: VerifyPolicyScreenCustPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class VerifyPolicyScreenCustPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { VerifyPolicyScreenCustPageRoutingModule } from './verify-policy-screen-cust-routing.module';\r\n\r\nimport { VerifyPolicyScreenCustPage } from './verify-policy-screen-cust.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    VerifyPolicyScreenCustPageRoutingModule\r\n  ],\r\n  declarations: [VerifyPolicyScreenCustPage]\r\n})\r\nexport class VerifyPolicyScreenCustPageModule {}\r\n","import { Location } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { VerifyPolicyPopupCustPage } from '../verify-policy-popup-cust/verify-policy-popup-cust.page';\r\nimport axios from 'axios';\r\nimport { InsuranceAppService } from '../services/insurance-app.service';\r\nimport { HttpHeaders, HttpParams, HttpClient, HttpParamsOptions } from '@angular/common/http';\r\n\r\n\r\n@Component({\r\n  selector: 'app-verify-policy-screen-cust',\r\n  templateUrl: './verify-policy-screen-cust.page.html',\r\n  styleUrls: ['./verify-policy-screen-cust.page.scss'],\r\n})\r\nexport class VerifyPolicyScreenCustPage implements OnInit {\r\n  show = false;\r\n  Insurance = 'Car Insurance'\r\n  listarray = [{ Insurance: 'Car Insurance' }, { Insurance: 'Car Insurance' }, { Insurance: 'Car Insurance' }]\r\n  pnumber = '';\r\n  config: { method: string; url: string; headers: { Authorization: string; Cookie: string; 'Content-Type': string; }; };\r\n  policy = false;\r\n  verifypolicy: any;\r\n  first_name: any;\r\n  last_name: any;\r\n  dob: any;\r\n  phone_number: any;\r\n  email: any;\r\n  address: any;\r\n  constructor(public modal: ModalController,\r\n    public location: Location,\r\n    public router: Router,\r\n    public api: InsuranceAppService,\r\n    private http: HttpClient,) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  goback() {\r\n    this.router.navigate(['/home-page-screen-after-login'])\r\n  }\r\n  openlist() {\r\n    if (this.show == true) {\r\n      this.show = false\r\n    } else {\r\n      this.show = true;\r\n\r\n    }\r\n  }\r\n\r\n  selectInsurance(list) {\r\n    this.Insurance = list.Insurance\r\n    this.show = false\r\n  }\r\n  async PopupCust() {\r\n    // let token = '39109f7df56e1CORNERStone9e685066bb852'\r\n    if (this.pnumber == '') {\r\n      this.api.presenttoast('Policy Number Field is required!');\r\n    } else {\r\n      this.api.showLoader();\r\n      this.api.get('https://ies.cornerstone.com.ng/demo2/api_ies/ies_connect.php?process=Processopenledapi&process_code=160&polnum2=' + this.pnumber, localStorage.getItem('token')).subscribe((response: any) => {\r\n\r\n        console.log(response.result);\r\n        this.verifypolicy = response.result\r\n        localStorage.setItem('policydata', JSON.stringify(this.verifypolicy));\r\n\r\n\r\n        this.api.hideLoader();\r\n        if (this.verifypolicy) {\r\n          if (this.verifypolicy.status == 1) {\r\n            this.router.navigate(['renewals'])\r\n            // this.policy = true;\r\n            // this.first_name = this.verifypolicy.first_name\r\n            // this.last_name = this.verifypolicy.last_name\r\n            // this.dob = this.verifypolicy.dob\r\n            // this.phone_number = this.verifypolicy.phone_number\r\n            // this.email = this.verifypolicy.email\r\n            // this.address = this.verifypolicy.address\r\n          } else {\r\n            this.api.presenttoast(this.verifypolicy.message)\r\n          }\r\n        } else {\r\n          this.api.presenttoast('Policy record not found');\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n    // const params = {\r\n    //   process: 'Processopenledapi',\r\n    //   process_code: '160',\r\n    //   polnum2: 'CHEF/2011/04/02072'\r\n    // }\r\n    // this.api.get('https://ies.cornerstone.com.ng/demo2/api_ies/ies_connect.php', { params }, localStorage.getItem('token')).pipe(map(data => { })).subscribe(result => {\r\n    //   console.log(result);\r\n    // }, err => {\r\n    //   console.log('error', err);\r\n\r\n    // });\r\n\r\n    // const headers = new HttpHeaders()\r\n    // headers.set('Authorization', 'Bearer 39109f7df56e1CORNERStone9e685066bb852');\r\n    // headers.set(\"Access-Control-Allow-Origin\", \"*\");\r\n\r\n    // headers.set(\"Content-Type\", \"application/json\")\r\n    // const myObject = {\r\n    //   process: 'Processopenledapi',\r\n    //   process_code: '160',\r\n    //   polnum2: 'CHEF/2011/04/02072'\r\n    // }\r\n    // const httpParams: HttpParamsOptions = { fromObject: myObject } as HttpParamsOptions;\r\n\r\n    // const options = { params: new HttpParams(httpParams), headers: headers, };\r\n\r\n    // this.http.get<any>('https://ies.cornerstone.com.ng/demo2/api_ies/ies_connect.php', options)\r\n    //   .subscribe((data: any) => {\r\n    //     // this.localvar = data;\r\n    //     console.log('data====', data);\r\n\r\n    //   }, err => {\r\n    //     console.log('errr====', err);\r\n\r\n    //   });\r\n\r\n    // const modal = await this.modal.create({\r\n    //   component: VerifyPolicyPopupCustPage,\r\n    //   cssClass: 'PolicyPopupCust',\r\n    // });\r\n    // modal.onDidDismiss().then((data) => {\r\n    //   console.log('data', data)\r\n    // });\r\n    // return await modal.present();\r\n  }\r\n}\r\n"],"names":["Location","Component","Router","ModalController","InsuranceAppService","HttpClient","VerifyPolicyScreenCustPage","constructor","modal","location","router","api","http","Insurance","ngOnInit","goback","navigate","openlist","show","selectInsurance","list","PopupCust","pnumber","presenttoast","showLoader","get","localStorage","getItem","subscribe","response","console","log","result","verifypolicy","setItem","JSON","stringify","hideLoader","status","message","selector","template"],"sourceRoot":"webpack:///"}