{"version":3,"file":"default-src_app_agentidpopup_agentidpopup_page_ts.js","mappings":"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","sources":["./src/app/agentidpopup/agentidpopup.page.ts"],"sourcesContent":["import { Location } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ModalController, NavController } from '@ionic/angular';\nimport { InsuranceAppService } from '../services/insurance-app.service';\n\n@Component({\n  selector: 'app-agentidpopup',\n  templateUrl: './agentidpopup.page.html',\n  styleUrls: ['./agentidpopup.page.scss'],\n})\nexport class AgentidpopupPage implements OnInit {\n  agentloginType = 'Select Agent Type';\n  agentId = '';\n  showMaker: any = false;\n\n\n  vechileMakenew = [{\n    manufacturer: \"Gibs\",\n    active: false\n  }, {\n    manufacturer: \"IES\",\n    active: false\n  }];\n\n  constructor(public modal: ModalController,\n    public navCtrl: NavController,\n    public api: InsuranceAppService,\n    public location: Location,\n    public router: Router) { }\n\n  ngOnInit() {\n  }\n\n  dismiss() {\n    // this.modal.dismiss();\n    this.location.back()\n  }\n\n  search() {\n    if (this.agentloginType == \"Select Agent Type\") {\n      this.api.presenttoast('Please Select Agent Type')\n    } else if (this.agentId == '') {\n      this.api.presenttoast('Enter Agent ID')\n    } else {\n\n      if (this.agentloginType == \"Gibs\") {\n        var myData = {\n          \"sid\": \"ECHANNEL2\",\n          \"token\": \"78CD825E-2F6A-4986-962C-7F0FA3E945BD\"\n        }\n        this.api.gibsapi(myData).subscribe((res: any) => {\n          console.log(res);\n          let token = res.accessToken\n          this.getresult(token)\n        }, (err) => {\n          console.log(err);\n          this.api.hideLoader()\n        });\n      } else {\n\n        let token = '39109f7df56e1CORNERStone9e685066bb852'\n        this.api.showLoader();\n        this.api.get('https://ies.cornerstone.com.ng/demo2/api_ies/ies_connect.php?process=Processopenledapi&process_code=901&agent=' + this.agentId, token).subscribe((res: any) => {\n          console.log(res);\n          this.api.hideLoader()\n\n          if (res.result.status == 1) {\n            localStorage.setItem('loginas', 'agent')\n            localStorage.setItem('userid', this.agentId);\n            localStorage.setItem('token', '39109f7df56e1CORNERStone9e685066bb852');\n            localStorage.setItem('fname', res.result.name)\n\n            this.router.navigate(['/home-page-screen-after-login']);\n          } else {\n            this.api.presenttoast(res.result.message)\n          }\n        }, (err) => {\n          console.log(err);\n          this.api.hideLoader()\n        });\n      }\n\n\n\n\n    }\n\n  }\n  getresult(token) {\n    // ids:AG-000008\n    // 00003\n    this.api.showLoader();\n    let beartoken = token\n    this.api.getpolicy('http://testcipapiservices.gibsonline.com/api/Agents', beartoken).subscribe((res: any) => {\n      console.log('ressssss', res);\n      this.api.getpolicy('http://testcipapiservices.gibsonline.com/api/Agents/' + this.agentId, beartoken).subscribe((res: any) => {\n        console.log('ressssss', res);\n        this.api.hideLoader();\n        localStorage.setItem('agentdata', JSON.stringify(res))\n\n        localStorage.setItem('loginas', 'agent');\n        this.api.loginas = 'agent';\n        localStorage.setItem('userid', this.agentId);\n        localStorage.setItem('token', beartoken);\n        localStorage.setItem('fname', res.agentName)\n\n        this.router.navigate(['/dashboard']);\n\n        // this.navCtrl.navigateForward('agentloginscreen')\n\n\n        // this.modal.dismiss().then(data => {\n        //   localStorage.setItem('agentdata', JSON.stringify(res))\n        //   console.log('data came back from modal');\n        //   console.log(data);\n        //   this.navCtrl.navigateForward('agentloginscreen')\n        // })\n      }, (err) => {\n        console.log(err);\n        this.api.presenttoast(err.error.title)\n        this.api.hideLoader()\n      });\n    }, (err) => {\n      console.log(err);\n      this.api.presenttoast(err.error.title)\n      this.api.hideLoader()\n    });\n\n  }\n\n\n  openVhclMakeList() {\n    if (this.showMaker == true) {\n      this.showMaker = false;\n    } else {\n      this.showMaker = true;\n\n    }\n  }\n\n\n  selectVehicleMaker(list, index) {\n    this.agentloginType = list.manufacturer;\n    // this.vehicleModelVal = '';\n    this.showMaker = false;\n\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}