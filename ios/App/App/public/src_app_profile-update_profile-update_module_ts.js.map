{"version":3,"file":"src_app_profile-update_profile-update_module_ts.js","mappings":"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","sources":["./src/app/profile-update/profile-update-routing.module.ts","./src/app/profile-update/profile-update.module.ts","./src/app/profile-update/profile-update.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfileUpdatePage } from './profile-update.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfileUpdatePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfileUpdatePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfileUpdatePageRoutingModule } from './profile-update-routing.module';\n\nimport { ProfileUpdatePage } from './profile-update.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    FormsModule,\n    IonicModule,\n    ProfileUpdatePageRoutingModule\n  ],\n  declarations: [ProfileUpdatePage]\n})\nexport class ProfileUpdatePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Validators, FormControl, FormBuilder, FormGroup } from '@angular/forms';\nimport { format, parseISO, getDate, getMonth, getYear } from 'date-fns';\nimport { Router } from '@angular/router';\nimport { InsuranceAppService } from '../services/insurance-app.service';\nimport { Location } from '@angular/common';\n@Component({\n  selector: 'app-profile-update',\n  templateUrl: './profile-update.page.html',\n  styleUrls: ['./profile-update.page.scss'],\n})\nexport class ProfileUpdatePage implements OnInit {\n  RegisterForm: FormGroup;\n  uTitle = '';\n  fName = '';\n  lName = '';\n  mobNumber = '';\n  userEmail = '';\n  existingpass = ''\n  userPassword = '';\n  cuserPassword = '';\n  show = false;\n  eshowPass = false;\n  showPass = false;\n  cshowPass = false;\n  usertitle = '';\n  firstName = '';\n  lastName = '';\n  userNumber = '';\n  useremail = '';\n  userpwd = '';\n  cuserpwd = '';\n  i = 1;\n  newpass: any;\n  existingpas: any;\n  customerId = {\n    file: \"\"\n  };\n  utilityBills = {\n    file: \"\",\n    base64: \"\",\n  };\n  driverlicense = {\n    file: \"\",\n  };\n  passport = {\n    file: \"\",\n  };\n  base64 = '';\n\n\n  constructor(public router: Router,\n    public api: InsuranceAppService,\n    public location: Location) { }\n\n  ngOnInit() {\n    if (localStorage.getItem('userid') == null) {\n      this.router.navigate(['/sign-in-screen']);\n    } else {\n      this.RegisterForm = new FormGroup({\n        // title: new FormControl('', [Validators.required]),\n        fname: new FormControl('', Validators.required),\n        lname: new FormControl('', Validators.required),\n        number: new FormControl('', Validators.required),\n        email: new FormControl('', [Validators.required, Validators.pattern(/^[_a-z0-9-]+(\\.[_a-z0-9-]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,3})$/)]),\n        existpassword: new FormControl('', [Validators.required]),\n        password: new FormControl('', [Validators.required]),\n        cpassword: new FormControl('', [Validators.required])\n      });\n      this.RegisterForm.reset();\n\n      this.uTitle = localStorage.getItem('title');\n      this.fName = localStorage.getItem('fname');\n      this.lName = localStorage.getItem('lname');\n      this.mobNumber = localStorage.getItem('number');\n      this.userEmail = localStorage.getItem('email');\n      this.existingpass = localStorage.getItem('password');\n      // this.cuserPassword = localStorage.getItem('password');\n\n      console.log(this.usertitle);\n      console.log(this.firstName);\n      console.log(this.lastName);\n      console.log(this.userNumber);\n      console.log(this.useremail);\n      console.log(this.userpwd);\n      console.log(this.cuserpwd);\n    }\n\n\n  }\n\n  EtogglePass() {\n    this.eshowPass = !this.eshowPass;\n  }\n  togglePass() {\n\n    this.showPass = !this.showPass;\n  }\n\n  confirmtogglePass() {\n\n    this.cshowPass = !this.cshowPass;\n  }\n\n  goBack() {\n    this.location.back();\n  }\n  openlist() {\n    if (this.show == true) {\n      this.show = false\n    } else {\n      this.show = true;\n\n    }\n  }\n  existingpassword(ev) {\n    console.log('currentpassword', ev.detail.value);\n    this.existingpass = ev.detail.value\n  }\n  currentpassword(ev) {\n    console.log('currentpassword', ev.detail.value);\n    this.userPassword = ev.detail.value\n  }\n  newpassword(ev) {\n    console.log('value', ev.detail.value);\n    this.newpass = ev.detail.value\n  }\n\n  updateProfile() {\n    let myData = \"myData={\\r\\n    \\\"user_id\\\":\\\"\" + localStorage.getItem('userid') + \"\\\",\\r\\n    \\\"title\\\":\\\"\" + this.uTitle + \"\\\",\\r\\n    \\\"first_name\\\": \\\"\" + this.fName + \"\\\",\\r\\n    \\\"last_name\\\":\\\"\" + this.lName + \"\\\",\\r\\n    \\\"phone\\\":\\\"\" + this.mobNumber + \"\\\",\\r\\n    \\\"email\\\":\\\"\" + this.userEmail + \"\\\",\\r\\n    \\\"password\\\":\\\"\" + this.userPassword + \"\\\",\\r\\n    \\\"conf_password\\\":\\\"\" + this.cuserPassword + \"\\\",\\r\\n    \\\"verify_token\\\":\\\"\" + localStorage.getItem('token') + \"\\\",\\r\\n    \\\"method\\\": \\\"update_user\\\" \\r\\n}\"\n\n\n    this.api.insertData(myData).subscribe((res: any) => {\n      console.log(\"res==\", res);\n      if (res.message === 'Updated done') {\n        console.log(res.message);\n        this.api.presenttoast(\"Profile updated successfully!\");\n        this.router.navigate(['/home-page-screen-after-login']);\n      } else {\n        this.api.presenttoast(res.message);\n      }\n\n    }, (err) => {\n      console.log('err==', err);\n      this.api.presenttoast(err);\n\n    })\n\n\n  }\n\n  selectFile(event, type) {\n\n    console.log(\"type --- \", type);\n    console.log(\"linceise --- \", event.target.files[0]);\n\n\n    this.getBase64(event.target.files[0]).then(data => {\n      let file = event.target.files[0];\n      let base64 = data as string;\n      if (type == 'driverlicense') {\n        this.driverlicense.file = file;\n        this.base64 = base64;\n      }\n      else if (type == 'Idcard') {\n        this.customerId.file = file;\n        this.base64 = base64;\n      }\n      else if (type == 'passport') {\n        this.passport.file = file;\n        this.base64 = base64;\n      }\n      else if (type == 'utilityBills') {\n        this.utilityBills.file = file;\n        this.utilityBills.base64 = base64;\n      }\n\n\n    }).catch(err => console.log('Errrrrr', err));\n\n\n\n  }\n  getBase64(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = error => reject(error);\n    });\n  }\n  // signInPage(){\n  //   this.router.navigate(['/sign-in-screen']);\n  // }\n}\n"],"names":[],"sourceRoot":"webpack:///"}