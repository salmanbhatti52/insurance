{"version":3,"file":"src_app_renewals_renewals_module_ts.js","mappings":"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","sources":["./src/app/renewals/renewals-routing.module.ts","./src/app/renewals/renewals.module.ts","./src/app/renewals/renewals.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RenewalsPage } from './renewals.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RenewalsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RenewalsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RenewalsPageRoutingModule } from './renewals-routing.module';\n\nimport { RenewalsPage } from './renewals.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RenewalsPageRoutingModule\n  ],\n  declarations: [RenewalsPage]\n})\nexport class RenewalsPageModule {}\n","import { Location } from '@angular/common';\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { InsuranceAppService } from '../services/insurance-app.service';\n\n@Component({\n  selector: 'app-renewals',\n  templateUrl: './renewals.page.html',\n  styleUrls: ['./renewals.page.scss'],\n})\nexport class RenewalsPage implements OnInit {\n  // @ViewChild('mySegment', { read: ElementRef }) private mySegment: ElementRef;\n  requestsType: any;\n\n  show = false;\n  Insurance = 'Car Insurance'\n  listarray = [{ Insurance: 'Car Insurance' }, { Insurance: 'Car Insurance' }, { Insurance: 'Car Insurance' }]\n  policy: any;\n\n  first_name: any;\n  last_name: any;\n  dob: any;\n  phone_number: any;\n  email: any;\n  address: any;\n  bearertoken: any;\n  constructor(public api: InsuranceAppService,\n    public location: Location) { }\n\n  ngOnInit() {\n    this.policy = JSON.parse(localStorage.getItem('policydata'));\n    console.log('dasdasdsadsad', this.policy);\n    if (this.policy) {\n      if (this.policy.status == 1) {\n        this.first_name = this.policy.first_name\n        this.last_name = this.policy.last_name\n        this.dob = this.policy.dob\n        this.phone_number = this.policy.phone_number\n        this.email = this.policy.email\n        this.address = this.policy.address\n      } else {\n        this.api.presenttoast(this.policy.message)\n      }\n    } else {\n      this.api.presenttoast('Policy record not found');\n    }\n  }\n\n  goback() {\n    this.location.back()\n  }\n\n  // ionViewWillEnter() {\n  //   if (this.requestsType) {\n  //     if (this.requestsType === 'renewals') {\n  //       this.mySegment.nativeElement.children[0].click();\n\n  //     }\n  //     if (this.requestsType === 'subsequent') {\n  //       this.mySegment.nativeElement.children[1].click();\n\n  //     }\n  //   } else {\n  //     this.requestsType = 'renewals';\n  //     this.mySegment.nativeElement.children[0].click();\n\n  //   }\n  // }\n\n  segmentChanged(ev) {\n    console.log('requestType value', ev.detail.value);\n    let data = ev.detail.value;\n    this.requestsType = data\n    if (ev.detail.value === 'renewals') {\n      this.requestsType = 'renewals';\n\n    }\n    if (ev.detail.value === 'subsequent') {\n      this.requestsType = 'subsequent';\n    }\n    localStorage.setItem('requestType', this.requestsType);\n  }\n  openlist() {\n    if (this.show == true) {\n      this.show = false\n    } else {\n      this.show = true;\n\n    }\n  }\n\n  selectInsurance(list) {\n    this.Insurance = list.Insurance\n    this.show = false\n  }\n\n  renewals() {\n    var myData = {\n      \"sid\": \"ECHANNEL2\",\n      \"token\": \"78CD825E-2F6A-4986-962C-7F0FA3E945BD\"\n    }\n    this.api.gibsapi(myData).subscribe((res: any) => {\n      console.log(res);\n      this.bearertoken = res.accessToken\n      this.result(this.bearertoken)\n    }, (err) => {\n      console.log(err);\n      this.api.hideLoader()\n    });\n\n\n  }\n\n  result(token) {\n    let Bearertoken = token\n    let payload =\n    {\n      \"entryDate\": \"2022-10-07T10:05:37.919Z\",\n      \"startDate\": \"2022-10-07T10:05:37.919Z\",\n      \"endDate\": \"2022-10-07T10:05:37.919Z\",\n      \"fxCurrency\": \"NGN\",\n      \"fxRate\": 2147483647,\n      \"paymentProviderID\": \"string\",\n      \"paymentReferenceID\": \"string\",\n      \"policySections\": [\n        {\n          \"sectionID\": \"string\",\n          \"sectionSumInsured\": 0,\n          \"sectionPremium\": 0,\n          \"vehicleRegNo\": \"string\",\n          \"vehicleTypeID\": \"VAN\",\n          \"vehicleUser\": \"string\",\n          \"engineNumber\": \"string\",\n          \"chasisNumber\": \"string\",\n          \"vehicleUsage\": \"PRIVATE\",\n          \"numberOfSeats\": 0,\n          \"stateOfIssue\": \"string\",\n          \"vehicleMake\": \"string\",\n          \"vehicleModel\": \"string\",\n          \"manufactureYear\": 0,\n          \"vehicleColour\": \"string\",\n          \"engineCapacityHP\": \"string\",\n          \"coverType\": \"COMPREHENSIVE\"\n        }\n      ]\n    }\n\n    let encode1 = encodeURIComponent('P/500/1002/2022/00082');\n    console.log('dasdsadsa', encode1);\n\n    this.api.postdata('http://testcipapiservices.gibsonline.com/api/Policies/Motor/' + encode1 + '/renew', payload, Bearertoken).subscribe((res: any) => {\n      console.log('resssss', res);\n      this.api.presenttoast('Success')\n    }, err => {\n      console.log();\n\n    })\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}