{"version":3,"file":"src_app_renewals_renewals_module_ts.js","mappings":"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","sources":["./src/app/renewals/renewals-routing.module.ts","./src/app/renewals/renewals.module.ts","./src/app/renewals/renewals.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { RenewalsPage } from './renewals.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RenewalsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RenewalsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RenewalsPageRoutingModule } from './renewals-routing.module';\r\n\r\nimport { RenewalsPage } from './renewals.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RenewalsPageRoutingModule\r\n  ],\r\n  declarations: [RenewalsPage]\r\n})\r\nexport class RenewalsPageModule {}\r\n","import { Location } from '@angular/common';\r\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { InsuranceAppService } from '../services/insurance-app.service';\r\n\r\n@Component({\r\n  selector: 'app-renewals',\r\n  templateUrl: './renewals.page.html',\r\n  styleUrls: ['./renewals.page.scss'],\r\n})\r\nexport class RenewalsPage implements OnInit {\r\n  // @ViewChild('mySegment', { read: ElementRef }) private mySegment: ElementRef;\r\n  requestsType: any;\r\n\r\n  show = false;\r\n  Insurance = 'Car Insurance'\r\n  listarray = [{ Insurance: 'Car Insurance' }, { Insurance: 'Car Insurance' }, { Insurance: 'Car Insurance' }]\r\n  policy: any;\r\n\r\n  first_name: any;\r\n  last_name: any;\r\n  dob: any;\r\n  phone_number: any;\r\n  email: any;\r\n  address: any;\r\n  bearertoken: any;\r\n  constructor(public api: InsuranceAppService,\r\n    public location: Location) { }\r\n\r\n  ngOnInit() {\r\n    this.policy = JSON.parse(localStorage.getItem('policydata'));\r\n    console.log('dasdasdsadsad', this.policy);\r\n    if (this.policy) {\r\n      if (this.policy.status == 1) {\r\n        this.first_name = this.policy.first_name\r\n        this.last_name = this.policy.last_name\r\n        this.dob = this.policy.dob\r\n        this.phone_number = this.policy.phone_number\r\n        this.email = this.policy.email\r\n        this.address = this.policy.address\r\n      } else {\r\n        this.api.presenttoast(this.policy.message)\r\n      }\r\n    } else {\r\n      this.api.presenttoast('Policy record not found');\r\n    }\r\n  }\r\n\r\n  goback() {\r\n    this.location.back()\r\n  }\r\n\r\n  // ionViewWillEnter() {\r\n  //   if (this.requestsType) {\r\n  //     if (this.requestsType === 'renewals') {\r\n  //       this.mySegment.nativeElement.children[0].click();\r\n\r\n  //     }\r\n  //     if (this.requestsType === 'subsequent') {\r\n  //       this.mySegment.nativeElement.children[1].click();\r\n\r\n  //     }\r\n  //   } else {\r\n  //     this.requestsType = 'renewals';\r\n  //     this.mySegment.nativeElement.children[0].click();\r\n\r\n  //   }\r\n  // }\r\n\r\n  segmentChanged(ev) {\r\n    console.log('requestType value', ev.detail.value);\r\n    let data = ev.detail.value;\r\n    this.requestsType = data\r\n    if (ev.detail.value === 'renewals') {\r\n      this.requestsType = 'renewals';\r\n\r\n    }\r\n    if (ev.detail.value === 'subsequent') {\r\n      this.requestsType = 'subsequent';\r\n    }\r\n    localStorage.setItem('requestType', this.requestsType);\r\n  }\r\n  openlist() {\r\n    if (this.show == true) {\r\n      this.show = false\r\n    } else {\r\n      this.show = true;\r\n\r\n    }\r\n  }\r\n\r\n  selectInsurance(list) {\r\n    this.Insurance = list.Insurance\r\n    this.show = false\r\n  }\r\n\r\n  renewals() {\r\n    var myData = {\r\n      \"sid\": \"ECHANNEL2\",\r\n      \"token\": \"78CD825E-2F6A-4986-962C-7F0FA3E945BD\"\r\n    }\r\n    this.api.gibsapi(myData).subscribe((res: any) => {\r\n      console.log(res);\r\n      this.bearertoken = res.accessToken\r\n      this.result(this.bearertoken)\r\n    }, (err) => {\r\n      console.log(err);\r\n      this.api.hideLoader()\r\n    });\r\n\r\n\r\n  }\r\n\r\n  result(token) {\r\n    let Bearertoken = token\r\n    let payload =\r\n    {\r\n      \"entryDate\": \"2022-10-07T10:05:37.919Z\",\r\n      \"startDate\": \"2022-10-07T10:05:37.919Z\",\r\n      \"endDate\": \"2022-10-07T10:05:37.919Z\",\r\n      \"fxCurrency\": \"NGN\",\r\n      \"fxRate\": 2147483647,\r\n      \"paymentProviderID\": \"string\",\r\n      \"paymentReferenceID\": \"string\",\r\n      \"policySections\": [\r\n        {\r\n          \"sectionID\": \"string\",\r\n          \"sectionSumInsured\": 0,\r\n          \"sectionPremium\": 0,\r\n          \"vehicleRegNo\": \"string\",\r\n          \"vehicleTypeID\": \"VAN\",\r\n          \"vehicleUser\": \"string\",\r\n          \"engineNumber\": \"string\",\r\n          \"chasisNumber\": \"string\",\r\n          \"vehicleUsage\": \"PRIVATE\",\r\n          \"numberOfSeats\": 0,\r\n          \"stateOfIssue\": \"string\",\r\n          \"vehicleMake\": \"string\",\r\n          \"vehicleModel\": \"string\",\r\n          \"manufactureYear\": 0,\r\n          \"vehicleColour\": \"string\",\r\n          \"engineCapacityHP\": \"string\",\r\n          \"coverType\": \"COMPREHENSIVE\"\r\n        }\r\n      ]\r\n    }\r\n\r\n    let encode1 = encodeURIComponent('P/500/1002/2022/00082');\r\n    console.log('dasdsadsa', encode1);\r\n\r\n\r\n    // this.api.postdata(' http://testcipapiservices.gibsonline.com/api/policies/P/500/1001/2023/00235', this.bearertoken).subscribe((response: any) => {\r\n\r\n    //   console.log('ddddddddddddddddddd', response);\r\n    //   this.api.hideLoader();\r\n\r\n    // });\r\n\r\n\r\n    this.api.postdata('http://testcipapiservices.gibsonline.com/api/Policies/Motor/' + encode1 + '/renew', payload, Bearertoken).subscribe((res: any) => {\r\n      console.log('resssss', res);\r\n      this.api.presenttoast('Success')\r\n    }, err => {\r\n      console.log();\r\n\r\n    })\r\n  }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}