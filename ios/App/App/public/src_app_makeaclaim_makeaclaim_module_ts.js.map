{"version":3,"file":"src_app_makeaclaim_makeaclaim_module_ts.js","mappings":"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","sources":["./src/app/makeaclaim/makeaclaim-routing.module.ts","./src/app/makeaclaim/makeaclaim.module.ts","./src/app/makeaclaim/makeaclaim.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MakeaclaimPage } from './makeaclaim.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MakeaclaimPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MakeaclaimPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MakeaclaimPageRoutingModule } from './makeaclaim-routing.module';\n\nimport { MakeaclaimPage } from './makeaclaim.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MakeaclaimPageRoutingModule\n  ],\n  declarations: [MakeaclaimPage]\n})\nexport class MakeaclaimPageModule {}\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { InsuranceAppService } from '../services/insurance-app.service';\n\nimport { format, parseISO, getDate, getMonth, getYear } from 'date-fns';\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport * as moment from 'moment';\n@Component({\n  selector: 'app-makeaclaim',\n  templateUrl: './makeaclaim.page.html',\n  styleUrls: ['./makeaclaim.page.scss'],\n})\nexport class MakeaclaimPage implements OnInit {\n  @ViewChild('mySegment', { read: ElementRef }) private mySegment: ElementRef;\n  requestsType: any;\n  show = false;\n  Insurance = 'Please Select';\n  listarray = [\n    { Insurance: 'General Business' },\n    { Insurance: 'Life Busines' },\n  ];\n\n  polnum: any;\n  csurname: any;\n  cothname: any;\n  dd_liabtype: any;\n  txt_message_clm: any;\n\n\n  claimdoc = {\n    file: '',\n    base64: '',\n  };\n\n  showloss = false;\n  losstype = 'Please Select';\n  listarrayloss = [\n    { Insurance: 'Own Damage', value: 1 },\n    { Insurance: 'Vandalization', value: 2 },\n    { Insurance: 'Negligent insured', value: 3 },\n    { Insurance: 'Own Damage and Negligent insured', value: 4 },\n    { Insurance: 'Negligent third party', value: 5 },\n    { Insurance: 'Fire /Theft Total Loss', value: 6 },\n    { Insurance: 'Fire Partial Loss', value: 7 },\n    { Insurance: 'Property Third Party Damage only', value: 8 },\n  ];\n\n  showPickerStartDate = false;\n  showPickerEndDate = false;\n  tourEndDate = format(new Date(), 'MM/dd/yyyy');\n  tourStartDate;\n  refnum: any = '';\n\n  name: any = '';\n  accidentplace: any = '';\n  vechregnum: any = '';\n  weathercondition: any = '';\n  accidentdescribe: any = '';\n  selectedDate: any;\n  Insurancename: any;\n  constructor(public api: InsuranceAppService, public router: Router,\n    public alert: AlertController) { }\n\n  ngOnInit() {\n    this.csurname = localStorage.getItem('lname');\n    this.cothname = localStorage.getItem('fname');\n  }\n\n  ionViewWillEnter() {\n    if (this.requestsType) {\n      if (this.requestsType === 'NewClaim') {\n        this.mySegment.nativeElement.children[0].click();\n      }\n      if (this.requestsType === 'ClaimTracker') {\n        this.mySegment.nativeElement.children[1].click();\n      }\n    } else {\n      this.requestsType = 'NewClaim';\n      this.mySegment.nativeElement.children[0].click();\n    }\n  }\n\n  segmentChanged(ev) {\n    console.log('requestType value', ev.detail.value);\n    let data = ev.detail.value;\n    this.requestsType = data;\n    if (ev.detail.value === 'NewClaim') {\n      this.requestsType = 'NewClaim';\n    }\n    if (ev.detail.value === 'ClaimTracker') {\n      this.requestsType = 'ClaimTracker';\n    }\n    localStorage.setItem('requestType1', this.requestsType);\n  }\n\n  openlist() {\n    if (this.show == true) {\n      this.show = false;\n    } else {\n      this.show = true;\n    }\n  }\n\n  openlistloss() {\n    if (this.showloss == true) {\n      this.showloss = false;\n    } else {\n      this.showloss = true;\n    }\n  }\n\n  selectInsurance(list) {\n    this.Insurance = list.Insurance;\n    this.show = false;\n  }\n\n  selectFile(event, type) {\n    console.log('type --- ', type);\n    console.log('linceise --- ', event.target.files[0]);\n\n    this.getBase64(event.target.files[0])\n      .then((data) => {\n        let file = event.target.files[0];\n        let base64 = data as string;\n\n        this.claimdoc.file = file;\n        this.claimdoc.base64 = base64;\n      })\n      .catch((err) => console.log('Errrrrr', err));\n  }\n  getBase64(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = (error) => reject(error);\n    });\n  }\n\n  reportclaim() {\n    if (this.Insurance == 'Life Busines') {\n      if (this.claimdoc.file == '') {\n        this.api.presenttoast('Choose Document');\n      } else {\n        var data = new FormData();\n        data.append('polnum', this.polnum);\n        data.append('csurname', this.csurname);\n        data.append('cothname', this.cothname);\n        data.append('dd_liabtype', this.dd_liabtype);\n        data.append('txt_message_clm', this.txt_message_clm);\n        data.append('claimdoc', this.claimdoc.file);\n\n        this.api.showLoader();\n        this.api\n          .postdata(\n            'https://ies.cornerstone.com.ng/demo2/api_ies/ies_connect.php?process=Processopenledapi&process_code=200',\n            data,\n            '39109f7df56e1CORNERStone9e685066bb852'\n          )\n          .subscribe(async (res: any) => {\n            console.log('response claim', res);\n            this.api.hideLoader();\n            // if (res.result.status == 0) {\n            //   this.api.presenttoast(res.result.message)\n            // } else {\n            //   this.api.presenttoast('Please try again');\n            // }\n\n            if (res.result) {\n              if (res.result.status == 1) {\n                this.api.presenttoast(res.result.message);\n              } else {\n                const alert = await this.alert.create({\n                  header: res.result.message,\n                  cssClass: 'fgprintcls',\n                  buttons: [\n                    {\n                      text: 'OK',\n                      role: 'confirm',\n                      handler: () => {\n\n                      },\n                    },\n                  ],\n                });\n                await alert.present();\n                // this.api.presenttoast(res.result.message);\n              }\n            } else {\n              this.api.presenttoast('Policy record not found');\n            }\n          }, err => {\n            console.log('err======', err);\n\n            this.api.hideLoader()\n          });\n      }\n    } else {\n      this.api.showLoader();\n      const myData = {\n        sid: 'ECHANNEL2',\n        token: '78CD825E-2F6A-4986-962C-7F0FA3E945BD',\n      };\n\n      var mydataAPI = {\n        \"name\": this.name,\n        \"vehicleregno\": this.vechregnum,\n        \"accidentdate\": this.tourStartDate,\n        \"accidentplace\": this.accidentplace,\n        \"accidentdescribe\": this.accidentdescribe,\n        \"weathercondition\": this.weathercondition,\n        \"losstypecode\": this.losstype\n      };\n\n      // var data = new FormData();\n      // data.append('name', \"najam\");\n      // data.append('vehicleregno', \"MN000\");\n      // data.append('accidentdate', \"2023-11-22\");\n      // data.append('accidentplace', \"nigeria\");\n      // data.append('accidentdescribe', \"dsadasdasd\");\n      // data.append('weathercondition', \"dasdasdsad\");\n      // data.append('losstypecode', '1');\n      this.api.gibsapi(myData).subscribe(\n        (res: any) => {\n          console.log('token-----', res);\n          const token = res.accessToken;\n          this.api\n            .newclaim(\n              'https://app.cornerstone.com.ng/claimapi/api/ProcessClaim/NewClaim',\n              mydataAPI)\n            .subscribe((res: any) => {\n              this.api.hideLoader();\n              // this.api.presenttoast('Clain Number ' + res.claimNo);\n              this.alertbox(res.claimNo)\n              console.log('gibs product detail', res);\n              // localStorage.setItem('gibsproduct', JSON.stringify(res))\n              // this.router.navigate(['gibsplans']);\n            }, err => {\n              console.log(err);\n              this.api.hideLoader()\n              if (err.error.message == 'Validation Failed') {\n                // this.api.presenttoast(err.error.errors[0].message);\n                this.alertboxshow(err.error.errors[0].message)\n              } else {\n                // this.api.presenttoast(err.error.Message);\n                this.alertboxshow(err.error.Message)\n              }\n\n\n            });\n        },\n        (err) => {\n          this.api.presenttoast('Invalid Policy Number');\n          console.log(err);\n          this.api.hideLoader();\n        }\n      );\n    }\n  }\n\n  // dateChanged(value, type) {\n  //   if (type == 'start') {\n  //     // this.tourStartDate = value;\n\n  //     this.tourStartDate = moment(value).format('L');\n  //     console.log('this.tourStartDate ----', this.tourStartDate);\n  //     this.showPickerStartDate = false;\n  //   } else {\n  //     this.tourEndDate = value;\n  //     console.log('this.tourEndDate ----', this.tourEndDate);\n  //     this.showPickerEndDate = false;\n  //   }\n  // }\n  onDateChange(val) {\n    var dateval = new Date(val)\n    console.log('Selected Date:', dateval);\n    this.tourStartDate = moment(dateval).format('L');\n  }\n\n  selectInsuranceloss(list) {\n    console.log(list);\n    this.Insurancename = list.Insurance\n    this.losstype = list.value;\n    this.showloss = false;\n  }\n\n  async alertbox(message) {\n\n    const alert = await this.alert.create({\n      header: 'Your claim number is ' + message,\n      cssClass: 'fgprintcls',\n      buttons: [\n        {\n          text: 'OK',\n          role: 'confirm',\n          handler: () => {\n\n          },\n        },\n      ],\n    });\n    await alert.present();\n\n  }\n\n  async alertboxshow(message) {\n    const alert = await this.alert.create({\n      header: message,\n      cssClass: 'fgprintcls',\n      buttons: [\n        {\n          text: 'OK',\n          role: 'confirm',\n          handler: () => {\n\n          },\n        },\n      ],\n    });\n    await alert.present();\n  }\n\n}\n"],"names":["Component","ViewChild","ElementRef","InsuranceAppService","format","Router","AlertController","moment","MakeaclaimPage","constructor","api","router","alert","Insurance","file","base64","value","Date","ngOnInit","csurname","localStorage","getItem","cothname","ionViewWillEnter","requestsType","mySegment","nativeElement","children","click","segmentChanged","ev","console","log","detail","data","setItem","openlist","show","openlistloss","showloss","selectInsurance","list","selectFile","event","type","target","files","getBase64","then","claimdoc","catch","err","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","reportclaim","presenttoast","FormData","append","polnum","dd_liabtype","txt_message_clm","showLoader","postdata","subscribe","res","hideLoader","status","message","create","header","cssClass","buttons","text","role","handler","present","myData","sid","token","mydataAPI","name","vechregnum","tourStartDate","accidentplace","accidentdescribe","weathercondition","losstype","gibsapi","accessToken","newclaim","alertbox","claimNo","alertboxshow","errors","Message","onDateChange","val","dateval","selectInsuranceloss","Insurancename","args","read","selector","template"],"sourceRoot":"webpack:///"}