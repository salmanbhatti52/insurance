{"version":3,"file":"src_app_makeaclaim_makeaclaim_module_ts.js","mappings":"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","sources":["./src/app/makeaclaim/makeaclaim-routing.module.ts","./src/app/makeaclaim/makeaclaim.module.ts","./src/app/makeaclaim/makeaclaim.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MakeaclaimPage } from './makeaclaim.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MakeaclaimPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MakeaclaimPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MakeaclaimPageRoutingModule } from './makeaclaim-routing.module';\n\nimport { MakeaclaimPage } from './makeaclaim.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MakeaclaimPageRoutingModule\n  ],\n  declarations: [MakeaclaimPage]\n})\nexport class MakeaclaimPageModule {}\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { InsuranceAppService } from '../services/insurance-app.service';\n\nimport { format, parseISO, getDate, getMonth, getYear } from 'date-fns';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-makeaclaim',\n  templateUrl: './makeaclaim.page.html',\n  styleUrls: ['./makeaclaim.page.scss'],\n})\nexport class MakeaclaimPage implements OnInit {\n  @ViewChild('mySegment', { read: ElementRef }) private mySegment: ElementRef;\n  requestsType: any;\n  show = false;\n  Insurance = 'Please Select'\n  listarray = [{ Insurance: 'General Business' }, { Insurance: 'Life Busines' }]\n\n  polnum: any;\n  csurname: any;\n  cothname: any;\n  dd_liabtype: any;\n  txt_message_clm: any;\n\n  claimdoc = {\n    file: \"\",\n    base64: \"\",\n  };\n\n\n  showloss = false;\n  losstype=\"Please Select\"\n  listarrayloss = [{ Insurance: 'Accidental Damage' }, { Insurance: 'Own Damage'}, { Insurance: 'Others'}]\n\n  showPickerStartDate = false;\n  showPickerEndDate = false;\n  tourEndDate = format(new Date(), 'yyyy-MM-dd');\n  tourStartDate = format(new Date(), 'yyyy-MM-dd');\n  desc:any = ''\n  refnum:any=''\n\n  constructor(public api: InsuranceAppService,\n    public router:Router) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    if (this.requestsType) {\n      if (this.requestsType === 'NewClaim') {\n        this.mySegment.nativeElement.children[0].click();\n\n      }\n      if (this.requestsType === 'ClaimTracker') {\n        this.mySegment.nativeElement.children[1].click();\n\n      }\n    } else {\n      this.requestsType = 'NewClaim';\n      this.mySegment.nativeElement.children[0].click();\n\n    }\n  }\n\n  segmentChanged(ev) {\n    console.log('requestType value', ev.detail.value);\n    let data = ev.detail.value;\n    this.requestsType = data\n    if (ev.detail.value === 'NewClaim') {\n      this.requestsType = 'NewClaim';\n\n\n    }\n    if (ev.detail.value === 'ClaimTracker') {\n      this.requestsType = 'ClaimTracker';\n\n    }\n    localStorage.setItem('requestType1', this.requestsType);\n  }\n\n\n  openlist() {\n    if (this.show == true) {\n      this.show = false\n    } else {\n      this.show = true;\n    }\n  }\n\n  openlistloss(){\n    if (this.showloss == true) {\n      this.showloss = false\n    } else {\n      this.showloss = true;\n    }\n  }\n\n  selectInsurance(list) {\n    this.Insurance = list.Insurance\n    this.show = false\n  }\n\n  selectFile(event, type) {\n\n    console.log(\"type --- \", type);\n    console.log(\"linceise --- \", event.target.files[0]);\n\n\n    this.getBase64(event.target.files[0]).then(data => {\n      let file = event.target.files[0];\n      let base64 = data as string;\n\n\n      this.claimdoc.file = file;\n      this.claimdoc.base64 = base64;\n\n    }).catch(err => console.log('Errrrrr', err));\n\n\n\n  }\n  getBase64(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = error => reject(error);\n    });\n  }\n\n  reportclaim() {\n    if(this.Insurance == 'Life Busines'){\n    if (this.claimdoc.file == '') {\n      this.api.presenttoast('Choose Document')\n    } else {\n      var data = new FormData();\n      data.append(\"polnum\", this.polnum);\n      data.append(\"csurname\", this.csurname);\n      data.append(\"cothname\", this.cothname);\n      data.append(\"dd_liabtype\", this.dd_liabtype);\n      data.append(\"txt_message_clm\", this.txt_message_clm);\n      data.append(\"claimdoc\", this.claimdoc.file);\n\n      this.api.showLoader();\n      this.api.postdata('https://ies.cornerstone.com.ng/demo2/api_ies/ies_connect.php?process=Processopenledapi&process_code=200', data, localStorage.getItem('token')).subscribe((res: any) => {\n        console.log('response claim', res);\n        this.api.hideLoader();\n        // if (res.result.status == 0) {\n        //   this.api.presenttoast(res.result.message)\n        // } else {\n        //   this.api.presenttoast('Please try again');\n        // }\n\n        if (res.result) {\n          if (res.result.status == 1) {\n            this.api.presenttoast(res.result.message)\n          } else {\n            this.api.presenttoast(res.result.message)\n          }\n        } else {\n          this.api.presenttoast('Policy record not found');\n        }\n\n\n      })\n    }\n  }else{\n\n    this.api.showLoader()\n     const myData = {\n      sid: 'ECHANNEL2',\n      token: '78CD825E-2F6A-4986-962C-7F0FA3E945BD'\n    };\n\n     var mydataAPI={\n      \"policyNo\": this.polnum,\n      \"lossDate\": this.tourStartDate,\n      \"notifyDate\": this.tourEndDate,\n      \"description\": this.desc,\n      \"lossType\": this.losstype,\n      \"reference\": this.refnum\n      }\n    this.api.gibsapi(myData).subscribe((res: any) => {\n       console.log('token-----',res);\n      const token = res.accessToken;\n      this.api.postdata('http://testcipapiservices.gibsonline.com/api/Claims' ,mydataAPI, token).subscribe((res: any) => {\n\n        this.api.hideLoader()\n        this.api.presenttoast('Clain Number ' + res.claimNo)\n\n        console.log('gibs product detail', res);\n        // localStorage.setItem('gibsproduct', JSON.stringify(res))\n        // this.router.navigate(['gibsplans']);\n      });\n    }, (err) => {\n      this.api.presenttoast('Invalid Policy Number')\n      console.log(err);\n      this.api.hideLoader();\n    });\n\n\n  }\n  }\n\n  dateChanged(value, type) {\n    if (type == 'start') {\n      this.tourStartDate = value;\n      console.log('this.tourStartDate ----', this.tourStartDate);\n      this.showPickerStartDate = false;\n    }\n    else {\n      this.tourEndDate = value;\n      console.log('this.tourEndDate ----', this.tourEndDate);\n      this.showPickerEndDate = false;\n    }\n\n  }\n\n\n  selectInsuranceloss(list) {\n    this.losstype = list.Insurance\n    this.showloss = false\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}