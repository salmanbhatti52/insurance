{"version":3,"file":"src_app_policylookup_policylookup_module_ts.js","mappings":"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","sources":["./src/app/policylookup/policylookup-routing.module.ts","./src/app/policylookup/policylookup.module.ts","./src/app/policylookup/policylookup.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PolicylookupPage } from './policylookup.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PolicylookupPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PolicylookupPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PolicylookupPageRoutingModule } from './policylookup-routing.module';\n\nimport { PolicylookupPage } from './policylookup.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PolicylookupPageRoutingModule\n  ],\n  declarations: [PolicylookupPage]\n})\nexport class PolicylookupPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { InsuranceAppService } from '../services/insurance-app.service';\n\ndeclare var require: any;\n@Component({\n  selector: 'app-policylookup',\n  templateUrl: './policylookup.page.html',\n  styleUrls: ['./policylookup.page.scss'],\n})\n\n\nexport class PolicylookupPage implements OnInit {\n  show = false;\n  Title = 'Select Policy Type'\n  listarray = [{ Title: 'Gen Business' }, { Title: 'Life/Investment' }]\n  uTitle = '';\n  policy = false;\n  policynum = '';\n  verifypolicy: any;\n  full_name: any;\n  InsuranceType: any;\n  StartDate: any;\n  DateofExpiration: any;\n  PolicyNumber: any;\n  P10PolicyNumber: any;\n  response: any;\n  gibspolicy = false;\n\n  constructor(public api: InsuranceAppService) { }\n\n  ngOnInit() {\n    var number = \"YEKINI, AZEEZAT, ABOSEDE\";\n    var stringValue = number.replace(/,/g, '');\n\n    console.log(stringValue, \"using String\");\n\n\n  }\n\n  openlist() {\n    console.log('show value====', this.show);\n\n    if (this.show == false) {\n      this.show = true\n    } else {\n      this.show = false;\n\n    }\n  }\n\n  selectTitle(list) {\n    this.uTitle = list.Title\n    this.show = false\n  }\n\n  async policylookup() {\n\n\n    if (this.uTitle == '') {\n      this.api.presenttoast('Please select an item from dropdown')\n    }\n    else if (this.policynum == '') {\n      this.api.presenttoast('Policy Number Field is required!')\n    } else {\n      if (this.uTitle == 'Gen Business') {\n        this.api.showLoader();\n        var myData = {\n          \"sid\": \"ECHANNEL2\",\n          \"token\": \"78CD825E-2F6A-4986-962C-7F0FA3E945BD\"\n        }\n        this.api.gibsapi(myData).subscribe((res: any) => {\n          console.log(res);\n          let token = res.accessToken\n          this.policyresult(token)\n        }, (err) => {\n          console.log(err);\n          this.api.hideLoader()\n        });\n      }\n      if (this.uTitle == 'Life/Investment') {\n        let token = '39109f7df56e1CORNERStone9e685066bb852'\n        this.api.showLoader();\n        this.api.get('https://ies.cornerstone.com.ng/demo2/api_ies/ies_connect.php?process=Processopenledapi&polnum2=' + this.policynum + '&process_code=140', '39109f7df56e1CORNERStone9e685066bb852').subscribe((response: any) => {\n          this.api.hideLoader();\n          console.log(response);\n          this.verifypolicy = response.result;\n          if (this.verifypolicy) {\n            if (response.result.status == 0) {\n              this.gibspolicy = false;\n              this.policy = false;\n              this.api.presenttoast(response.result.message);\n            } else {\n              this.gibspolicy = false;\n              this.policy = true;\n              var name = this.verifypolicy.insured\n              this.full_name = name.replace(/,/g, '');\n              this.StartDate = this.verifypolicy.issuedate\n              this.DateofExpiration = this.verifypolicy.mat_date\n              this.PolicyNumber = this.verifypolicy.polnum\n              // this.InsuranceType =\n              this.P10PolicyNumber = this.verifypolicy.polnum2\n            }\n\n          } else {\n            this.gibspolicy = false;\n            this.api.presenttoast('Policy record not found');\n          }\n\n\n\n\n\n\n        }, err => {\n          this.gibspolicy = false;\n          this.policy = false;\n          this.api.hideLoader();\n        });\n      }\n\n    }\n  }\n\n  policyresult(token) {\n    // P/500/4000/2022/00007\n    let encode = encodeURIComponent(this.policynum);\n    console.log('eee--', encode);\n\n\n    let Bearertoken = token\n    let url = 'http://testcipapiservices.gibsonline.com/api/Policies/' + encode\n    this.api.getpolicy(url, Bearertoken).subscribe((response: any) => {\n      this.api.hideLoader();\n      console.log(response);\n      this.policy = false;\n\n      this.gibspolicy = true;\n      this.full_name = response.insured.firstName + ' ' + response.insured.lastName\n      this.StartDate = response.startDate\n      this.DateofExpiration = response.endDate\n      this.PolicyNumber = response.policyNo\n\n\n    }, err => {\n      console.log(err);\n      this.gibspolicy = false;\n      this.policy = false;\n      this.api.presenttoast(err.error.title);\n      this.api.hideLoader();\n    });\n\n    // this.api.getpolicy('http://testcipapiservices.gibsonline.com/api/Policies/Motor', Bearertoken).subscribe((res: any) => {\n    //   console.log('ressssss', res);\n\n    //   let postdata = {\n    //     \"productID\": \"1103\",\n    //     \"entryDate\": \"2022-10-20T04:29:31.261Z\",\n    //     \"startDate\": \"2018-03-13T00:00:00\",\n    //     \"endDate\": \"2019-03-12T00:00:00\",\n    //     \"fxCurrency\": \"NGN\",\n    //     \"fxRate\": 1,\n    //     \"referrerSource\": \"AGENT\",\n    //     \"referrerDetails\": \"string\",\n    //     \"paymentProviderID\": \"string\",\n    //     \"paymentReferenceID\": \"string\",\n    //     \"insured\": {\n    //       \"title\": \"string\",\n    //       \"lastName\": \"string\",\n    //       \"firstName\": \"string\",\n    //       \"otherName\": \"string\",\n    //       \"gender\": \"MALE\",\n    //       \"email\": \"user@example.com\",\n    //       \"address\": \"string\",\n    //       \"phoneLine1\": \"0803 502 6956\",\n    //       \"phoneLine2\": \"0803 502 6956\",\n    //       \"isOrg\": true,\n    //       \"orgName\": \"string\",\n    //       \"orgRegNumber\": \"string\",\n    //       \"orgRegDate\": \"2022-10-20T04:29:31.261Z\",\n    //       \"taxIdNumber\": \"string\",\n    //       \"cityLGA\": \"string\",\n    //       \"stateID\": \"string\",\n    //       \"nationality\": \"string\",\n    //       \"dateOfBirth\": \"2022-10-20T04:29:31.261Z\",\n    //       \"kycType\": \"NOT_AVAILABLE\",\n    //       \"kycNumber\": \"string\",\n    //       \"kycIssueDate\": \"2022-10-20T04:29:31.261Z\",\n    //       \"kycExpiryDate\": \"2022-10-20T04:29:31.261Z\",\n    //       \"nextOfKin\": {\n    //         \"title\": \"string\",\n    //         \"lastName\": \"string\",\n    //         \"firstName\": \"string\",\n    //         \"otherName\": \"string\",\n    //         \"gender\": \"MALE\",\n    //         \"email\": \"user@example.com\",\n    //         \"address\": \"string\",\n    //         \"phoneLine1\": \"123456\",\n    //         \"phoneLine2\": \"123456\"\n    //       }\n    //     },\n    //     \"policySections\": [\n    //       {\n    //         \"sectionID\": \"string\",\n    //         \"sectionSumInsured\": 0,\n    //         \"sectionPremium\": 0,\n    //         \"vehicleRegNo\": \"string\",\n    //         \"vehicleTypeID\": \"VAN\",\n    //         \"vehicleUser\": \"string\",\n    //         \"engineNumber\": \"string\",\n    //         \"chasisNumber\": \"string\",\n    //         \"vehicleUsage\": \"PRIVATE\",\n    //         \"numberOfSeats\": 0,\n    //         \"stateOfIssue\": \"string\",\n    //         \"vehicleMake\": \"string\",\n    //         \"vehicleModel\": \"string\",\n    //         \"manufactureYear\": 0,\n    //         \"vehicleColour\": \"string\",\n    //         \"engineCapacityHP\": \"string\",\n    //         \"coverType\": \"COMPREHENSIVE\"\n    //       }\n    //     ]\n    //   }\n\n\n    //   this.api.postdata('http://testcipapiservices.gibsonline.com/api/Policies/Motor', postdata, Bearertoken).subscribe((res: any) => {\n    //     console.log('motor response---', res);\n\n    //   })\n    // })\n  }\n\n}\n"],"names":["Component","InsuranceAppService","PolicylookupPage","constructor","api","Title","ngOnInit","number","stringValue","replace","console","log","openlist","show","selectTitle","list","uTitle","policylookup","presenttoast","policynum","showLoader","myData","gibsapi","subscribe","res","token","accessToken","policyresult","err","hideLoader","get","response","verifypolicy","result","status","gibspolicy","policy","message","name","insured","full_name","StartDate","issuedate","DateofExpiration","mat_date","PolicyNumber","polnum","P10PolicyNumber","polnum2","encode","encodeURIComponent","Bearertoken","url","getpolicy","firstName","lastName","startDate","endDate","policyNo","error","title","selector","template"],"sourceRoot":"webpack:///"}