{"version":3,"file":"src_app_payment_payment_module_ts.js","mappings":"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","sources":["./src/app/payment/payment-routing.module.ts","./src/app/payment/payment.module.ts","./src/app/payment/payment.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PaymentPage } from './payment.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PaymentPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PaymentPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { PaymentPageRoutingModule } from './payment-routing.module';\r\nimport { PaymentPage } from './payment.page';\r\nimport { Angular4PaystackModule } from 'angular4-paystack';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    PaymentPageRoutingModule,\r\n    Angular4PaystackModule.forRoot('pk_live_a8ca720ed1feb2f3304e6ab91eae45e42706406f')\r\n  ],\r\n  declarations: [PaymentPage]\r\n})\r\nexport class PaymentPageModule {}\r\n","import { Location } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { NavController } from '@ionic/angular';\r\nimport { InsuranceAppService } from '../services/insurance-app.service';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-payment',\r\n  templateUrl: './payment.page.html',\r\n  styleUrls: ['./payment.page.scss'],\r\n})\r\nexport class PaymentPage implements OnInit {\r\n\r\n  quoteItems: any;\r\n  quoteArrayLength: number;\r\n  value = localStorage.getItem('subProName');\r\n  chooosebank = '';\r\n  othermethod = false;\r\n  payemntmethod = '';\r\n  paymentoption: any;\r\n  priceofquote: any;\r\n  subprodName: any;\r\n  productID: any;\r\n  draftArr: any;\r\n  productres: any;\r\n  policyNo: any;\r\n  currentdate: any;\r\n  enddate: any;\r\n\r\n\r\n  constructor(public location: Location,\r\n    public router: Router,\r\n    public api: InsuranceAppService,\r\n    public navCtrl: NavController) { }\r\n  firstName: string;\r\n  lastName: string;\r\n  companyName: string;\r\n  quote: string;\r\n  valueOfVehice: number;\r\n  actualPremium: number;\r\n  floodExtension: number;\r\n  excessBuyBack: number;\r\n  trackingCharge: number;\r\n\r\n  reference = '';\r\n  title: any;\r\n  amt: any = 0\r\n  amtShow: any = 0\r\n  email: any;\r\n\r\n  vehicleVal: any;\r\n  vehicleMake: any;\r\n  vehicleClass: any;\r\n  vehicleModel: any;\r\n  regNo = '';\r\n  engNo = '';\r\n  chasisNo = '';\r\n  vehclr = '';\r\n  clientAddress = '';\r\n  dobValue = '';\r\n  yomValue = '';\r\n  genderVal\r\n  paymentInit() {\r\n    console.log('Payment initialized');\r\n  }\r\n\r\n  paymentDone(ref: any) {\r\n    this.title = 'Payment successfull';\r\n    console.log('payment succesfull-----', ref);\r\n    if (ref.status == 'success') {\r\n      this.api.showLoader()\r\n      localStorage.setItem('trxref', ref.trxref);\r\n      this.draftArr = JSON.parse(localStorage.getItem('draftArr'));\r\n      console.log(this.draftArr);\r\n\r\n      for (var i = 0; i < this.draftArr.length; i++) {\r\n        if (this.draftArr[i].product_id == this.productID) {\r\n\r\n          this.draftArr.splice(i, 1);\r\n\r\n        }\r\n\r\n      }\r\n      localStorage.setItem('draftArr', JSON.stringify(this.draftArr));\r\n      if (localStorage.getItem('subProName') == 'Third Party') {\r\n\r\n        var myData = {\r\n          sid: 'ECHANNEL2',\r\n          token: '78CD825E-2F6A-4986-962C-7F0FA3E945BD',\r\n        };\r\n        this.api.gibsapi(myData).subscribe(\r\n          (res: any) => {\r\n            this.api.hideLoader()\r\n            console.log(res);\r\n            let token = res.accessToken;\r\n            this.getresult(token);\r\n          },\r\n          (err) => {\r\n            console.log(err);\r\n            this.api.hideLoader();\r\n          }\r\n        );\r\n        // 'http://testcipapiservices.gibsonline.com/api/metadata/Policies/Motor' old url\r\n\r\n      } else {\r\n        this.api.hideLoader()\r\n        this.navCtrl.navigateRoot('paymentresponse')\r\n      }\r\n\r\n\r\n    }\r\n\r\n  }\r\n  getresult(Bearertoken) {\r\n    this.api.showLoader()\r\n    let postdata = {\r\n      // default productID:1001\r\n      \"productID\": '1001',\r\n      \"entryDate\": this.currentdate,\r\n      \"startDate\": this.currentdate,\r\n      \"endDate\": this.enddate,\r\n      \"fxCurrency\": \"NGN\",\r\n      \"fxRate\": 1,\r\n      \"agentID\": localStorage.getItem('agentcode'),\r\n      \"paymentAccountID\": \"1112000044\",\r\n      \"insured\": {\r\n        \"lastName\": localStorage.getItem('fname'),\r\n        \"firstName\": localStorage.getItem('lname'),\r\n        \"gender\": this.genderVal,\r\n        \"email\": localStorage.getItem('email'),\r\n        \"address\": localStorage.getItem('clientAddress'),\r\n        \"phoneLine1\": localStorage.getItem('phonenumber'),\r\n        \"isOrg\": false,\r\n        \"cityLGA\": \"n/a\",\r\n        \"stateID\": \"n/a\",\r\n        \"nationality\": \"bd\",\r\n        \"dateOfBirth\": localStorage.getItem('dob'),\r\n        \"kycType\": \"NOT_AVAILABLE\",\r\n        \"kycNumber\": \"n/a\"\r\n      },\r\n      \"sections\": [\r\n        {\r\n          \"sectionID\": \"n/a\",\r\n          \"sectionSumInsured\": 0,\r\n          \"sectionPremium\": this.amtShow,\r\n          \"fields\": [\r\n            {\r\n              \"name\": \"VehicleRegNo\",\r\n              \"value\": localStorage.getItem('regNo')\r\n            },\r\n            {\r\n              \"name\": \"VehicleTypeID\",\r\n              \"value\": \"JEEP\"\r\n            },\r\n            {\r\n              \"name\": \"VehicleUser\",\r\n              \"value\": localStorage.getItem('userfullname')\r\n            },\r\n            {\r\n              \"name\": \"EngineNumber\",\r\n              \"value\": localStorage.getItem('engNo')\r\n\r\n            },\r\n            {\r\n              \"name\": \"EngineCapacityHP\",\r\n              \"value\": \"2.5\"\r\n            },\r\n            {\r\n              \"name\": \"ChasisNumber\",\r\n              \"value\": localStorage.getItem('chasisNo')\r\n            },\r\n            {\r\n              \"name\": \"VehicleUsage\",\r\n              \"value\": \"PRIVATE\"\r\n            },\r\n            {\r\n              \"name\": \"NumberOfSeats\",\r\n              \"value\": \"1\"\r\n            },\r\n            {\r\n              \"name\": \"stateOfIssue\",\r\n              \"value\": \"Lagos\"\r\n            },\r\n            {\r\n              \"name\": \"VehicleMake\",\r\n              \"value\": localStorage.getItem('vechilemakeval')\r\n\r\n            },\r\n            {\r\n              \"name\": \"VehicleModel\",\r\n              \"value\": localStorage.getItem('vechilemodelval')\r\n            },\r\n            {\r\n              \"name\": \"ManufactureYear\",\r\n              \"value\": localStorage.getItem('yomValue')\r\n            },\r\n            {\r\n              \"name\": \"VehicleColour\",\r\n              \"value\": localStorage.getItem('vehclr')\r\n            },\r\n            {\r\n              \"name\": \"CoverType\",\r\n              \"value\": 'THIRD_PARTY_ONLY'\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n    // 'https://cors-anywhere.herokuapp.com/corsdemo/'\r\n    this.api\r\n      .postdata(\r\n        'http://testcipapiservices.gibsonline.com/api/policies',\r\n        postdata,\r\n        Bearertoken\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          console.log('motor response---', res);\r\n          this.api.hideLoader()\r\n          localStorage.setItem('gibsProductres', JSON.stringify(res));\r\n\r\n          this.getcertificate(Bearertoken)\r\n\r\n        },\r\n        (err) => {\r\n          this.api.hideLoader()\r\n          console.log('errrrrrrr', err);\r\n          // let errormsg = err.error.errors[0].message;\r\n          // this.api.presenttoast(errormsg)\r\n          this.api.presenttoast(err.message)\r\n        }\r\n      );\r\n  }\r\n\r\n  getcertificate(token) {\r\n    this.productres = JSON.parse(localStorage.getItem('gibsProductres'));\r\n    this.policyNo = this.productres.policyNo;\r\n\r\n    this.api.showLoader();\r\n    let encode = encodeURIComponent(this.policyNo);\r\n    console.log('eee--', encode);\r\n\r\n    this.api.get('http://testcipapiservices.gibsonline.com/api/utilities/send/certificate?policyNo=' + encode + '&email=' + this.email, token).subscribe((res: any) => {\r\n      console.log('certificate====', res);\r\n      this.api.hideLoader()\r\n      this.navCtrl.navigateRoot('payment2response');\r\n    }, err => {\r\n      this.api.hideLoader();\r\n      this.api.presenttoast('Something went wrong');\r\n    })\r\n  }\r\n  paymentCancel() {\r\n    console.log('payment failed');\r\n  }\r\n\r\n\r\n\r\n  ngOnInit() {\r\n    this.currentdate = moment(new Date()).format('YYYY-MM-DD');\r\n    console.log('cdate=', this.currentdate);\r\n    var oneYearFromNow = new Date();\r\n    var result = oneYearFromNow.setFullYear(oneYearFromNow.getFullYear() + 1);\r\n    this.enddate = moment(new Date(result)).format('YYYY-MM-DD');\r\n    this.subprodName = localStorage.getItem('subProName');\r\n    this.productID = localStorage.getItem('product_id');\r\n    this.email = localStorage.getItem('email');\r\n    this.reference = `ref-${Math.ceil(Math.random() * 10e13)}`;\r\n    this.quoteItems = JSON.parse(localStorage.getItem('quoteItems'));\r\n    for (var i = 0; i < this.quoteItems.length; i++) {\r\n      if (this.quoteItems[i].type == \"currency\") {\r\n        this.priceofquote = this.quoteItems[i].value\r\n        localStorage.setItem('priceofquote', this.priceofquote)\r\n        this.amt = this.priceofquote + '00'\r\n        this.amtShow = this.priceofquote\r\n\r\n\r\n        console.log('pesyyyyyy-------', localStorage.getItem('priceofquote'));\r\n\r\n      }\r\n    }\r\n  }\r\n  buyOnlineQuote() {\r\n    this.router.navigate(['/car-insurance-details']);\r\n  }\r\n  getAnewQuote() {\r\n    this.router.navigate(['/home-page-screen-after-login']);\r\n  }\r\n  goback() {\r\n    this.location.back();\r\n  }\r\n\r\n  selectmethod(val) {\r\n    console.log('value grt====', val);\r\n    this.payemntmethod = val;\r\n    if (val == 'other') {\r\n      this.othermethod = true;\r\n    } else {\r\n      this.othermethod = false;\r\n    }\r\n  }\r\n  onItemChange(ev) {\r\n    console.log(\" Value is : \", ev);\r\n    this.chooosebank = ev;\r\n  }\r\n\r\n  proceed() {\r\n    if (this.payemntmethod == '') {\r\n      this.api.presenttoast('Choose one payment method')\r\n    } else {\r\n      if (this.payemntmethod == 'WebPAY') {\r\n        this.paymentoption = 1;\r\n        this.paymentapi(this.paymentoption)\r\n      }\r\n      // else {\r\n      //   if (this.payemntmethod == 'other') {\r\n      //     this.paymentoption = 2;\r\n      //     if (this.chooosebank == '') {\r\n      //       this.api.presenttoast('Choose atleast one bank')\r\n      //     } else {\r\n      //       this.paymentapi(this.paymentoption)\r\n      //     }\r\n      //   }\r\n      // }\r\n    }\r\n  }\r\n\r\n  paymentapi(paymentoption) {\r\n    let datasend = \"myData={\\\"product_id\\\":\" + localStorage.getItem('subProId') + \",\\\"quote_id\\\":\" + localStorage.getItem('quote_id') + \",\\\"payment_option\\\":\" + paymentoption + \",\\\"verify_token\\\":\\\"\" + localStorage.getItem('token') + \"\\\",\\\"method\\\":\\\"payment_method_select\\\"}\";\r\n\r\n    this.api.insertData(datasend).subscribe((res: any) => {\r\n      console.log('payemt response', res);\r\n      if (paymentoption == 1) {\r\n        this.navCtrl.navigateForward(['payquote', {\r\n          payres: JSON.stringify(res.transaction)\r\n        }])\r\n      }\r\n\r\n    })\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}