{"version":3,"file":"src_app_allpolicies_allpolicies_module_ts.js","mappings":"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","sources":["./src/app/allpolicies/allpolicies-routing.module.ts","./src/app/allpolicies/allpolicies.module.ts","./src/app/allpolicies/allpolicies.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AllpoliciesPage } from './allpolicies.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AllpoliciesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AllpoliciesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AllpoliciesPageRoutingModule } from './allpolicies-routing.module';\n\nimport { AllpoliciesPage } from './allpolicies.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AllpoliciesPageRoutingModule\n  ],\n  declarations: [AllpoliciesPage]\n})\nexport class AllpoliciesPageModule {}\n","import { Location } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { InsuranceAppService } from '../services/insurance-app.service';\n\n@Component({\n  selector: 'app-allpolicies',\n  templateUrl: './allpolicies.page.html',\n  styleUrls: ['./allpolicies.page.scss'],\n})\nexport class AllpoliciesPage implements OnInit {\n  show = false;\n  Title = 'Select Policy Type';\n  listarray = [{ Title: 'Gen Business' }, { Title: 'Life/Investment' }];\n  uTitle = '';\n  policy = false;\n  policynum = '';\n  verifypolicy: any;\n  full_name: any;\n  InsuranceType: any;\n  StartDate: any;\n  DateofExpiration: any;\n  PolicyNumber: any;\n  P10PolicyNumber: any;\n  response: any;\n  gibspolicy = false;\n  statusdesc: any;\n  constructor(public api: InsuranceAppService) { }\n\n  ngOnInit() {\n  }\n\n  openlist() {\n    console.log('show value====', this.show);\n\n    if (this.show == false) {\n      this.show = true;\n    } else {\n      this.show = false;\n    }\n  }\n\n  selectTitle(list) {\n    this.uTitle = list.Title;\n    this.show = false;\n  }\n\n  async policylookup() {\n    if (this.uTitle == '') {\n      this.api.presenttoast('Please select an item from dropdown');\n    } else if (this.policynum == '') {\n      this.api.presenttoast('Policy Number Field is required!');\n    } else {\n      if (this.uTitle == 'Gen Business') {\n        this.api.showLoader();\n        var myData = {\n          sid: 'ECHANNEL2',\n          token: '78CD825E-2F6A-4986-962C-7F0FA3E945BD',\n        };\n        this.api.gibsapi(myData).subscribe(\n          (res: any) => {\n            console.log(res);\n            let token = res.accessToken;\n            this.policyresult(token);\n          },\n          (err) => {\n            console.log(err);\n            this.api.hideLoader();\n          }\n        );\n      }\n      if (this.uTitle == 'Life/Investment') {\n        let token = '39109f7df56e1CORNERStone9e685066bb852';\n        this.api.showLoader();\n        this.api\n          .get(\n            'https://ies.cornerstone.com.ng/demo2/api_ies/ies_connect.php?process=Processopenledapi&polnum2=' +\n            this.policynum +\n            '&process_code=140',\n            '39109f7df56e1CORNERStone9e685066bb852'\n          )\n          .subscribe(\n            (response: any) => {\n              this.api.hideLoader();\n              console.log(response);\n              this.verifypolicy = response.result;\n              if (this.verifypolicy) {\n                if (response.result.status == 0) {\n                  this.gibspolicy = false;\n                  this.policy = false;\n                  this.api.presenttoast(response.result.message);\n                } else {\n                  this.gibspolicy = false;\n                  this.policy = true;\n                  var name = this.verifypolicy.insured;\n                  this.full_name = name.replace(/,/g, '');\n                  this.StartDate = this.verifypolicy.issuedate;\n                  this.DateofExpiration = this.verifypolicy.mat_date;\n                  this.PolicyNumber = this.verifypolicy.polnum;\n                  // this.InsuranceType =\n                  this.P10PolicyNumber = this.verifypolicy.polnum2;\n                  this.statusdesc = this.verifypolicy.statusdesc\n                }\n              } else {\n                this.gibspolicy = false;\n                this.api.presenttoast('Policy record not found');\n              }\n            },\n            (err) => {\n              this.gibspolicy = false;\n              this.policy = false;\n              this.api.hideLoader();\n            }\n          );\n      }\n    }\n  }\n\n  policyresult(token) {\n    // P/500/4000/2022/00007\n    let encode = encodeURIComponent(this.policynum);\n    console.log('eee--', encode);\n\n    let Bearertoken = token;\n    let url = 'https://testcipapiservices.gibsonline.com/api/policies/' + encode;\n    this.api.getpolicy(url, Bearertoken).subscribe(\n      (response: any) => {\n        this.api.hideLoader();\n        console.log(response);\n        this.policy = false;\n\n        this.gibspolicy = true;\n        this.full_name =\n          response.customerName\n        this.StartDate = response.startDate;\n        this.DateofExpiration = response.endDate;\n        this.PolicyNumber = response.policyNo;\n      },\n      (err) => {\n        console.log(err);\n        this.gibspolicy = false;\n        this.policy = false;\n        this.api.presenttoast(err.error.title);\n        this.api.hideLoader();\n      }\n    );\n\n\n\n  }\n\n}\n"],"names":["Component","InsuranceAppService","AllpoliciesPage","constructor","api","Title","ngOnInit","openlist","console","log","show","selectTitle","list","uTitle","policylookup","presenttoast","policynum","showLoader","myData","sid","token","gibsapi","subscribe","res","accessToken","policyresult","err","hideLoader","get","response","verifypolicy","result","status","gibspolicy","policy","message","name","insured","full_name","replace","StartDate","issuedate","DateofExpiration","mat_date","PolicyNumber","polnum","P10PolicyNumber","polnum2","statusdesc","encode","encodeURIComponent","Bearertoken","url","getpolicy","customerName","startDate","endDate","policyNo","error","title","selector","template"],"sourceRoot":"webpack:///"}